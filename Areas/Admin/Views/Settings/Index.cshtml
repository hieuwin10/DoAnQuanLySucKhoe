@model DoAnChamSocSucKhoe.Areas.Admin.Models.SettingsViewModel

@{
    ViewData["Title"] = "Cài đặt hệ thống";
    Layout = "_AdminLayout";
}

<div class="container-fluid py-4">
    <!-- Page Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h1 class="display-6 fw-bold text-primary">
                <i class="fas fa-cogs me-2"></i>Cài đặt hệ thống
            </h1>
            <p class="text-muted lead mb-0">Quản lý cấu hình và tùy chọn hệ thống</p>
        </div>
    </div>

    <!-- Settings Navigation -->
    <div class="card border-0 shadow-sm rounded-4 mb-4">
        <div class="card-body p-2">
            <ul class="nav nav-pills nav-fill">
                <li class="nav-item">
                    <a class="nav-link active rounded-3" href="@Url.Action("Index")">
                        <i class="fas fa-cog me-2"></i>Tổng quan
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link rounded-3 text-muted" href="@Url.Action("Email")">
                        <i class="fas fa-envelope me-2"></i>Email
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link rounded-3 text-muted" href="@Url.Action("Security")">
                        <i class="fas fa-shield-alt me-2"></i>Bảo mật
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link rounded-3 text-muted" href="@Url.Action("Backup")">
                        <i class="fas fa-database me-2"></i>Sao lưu
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Settings Form -->
    <form method="post" class="row g-4">
        @Html.AntiForgeryToken()

        <!-- General Settings -->
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm rounded-4 mb-4">
                <div class="card-header bg-white py-3 border-0">
                    <h5 class="mb-0 fw-bold text-primary">
                        <i class="fas fa-sliders-h me-2"></i>Cài đặt chung
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="SystemName" class="form-label fw-bold text-muted small text-uppercase">Tên hệ thống</label>
                            @Html.TextBoxFor(m => m.SystemName, new { @class = "form-control bg-light border-0", placeholder = "Nhập tên hệ thống" })
                            @Html.ValidationMessageFor(m => m.SystemName, "", new { @class = "text-danger small" })
                        </div>
                        <div class="col-md-6">
                            <label for="AdminEmail" class="form-label fw-bold text-muted small text-uppercase">Email quản trị</label>
                            @Html.TextBoxFor(m => m.AdminEmail, new { @class = "form-control bg-light border-0", type = "email", placeholder = "admin@example.com" })
                            @Html.ValidationMessageFor(m => m.AdminEmail, "", new { @class = "text-danger small" })
                        </div>
                        <div class="col-12">
                            <label for="SystemDescription" class="form-label fw-bold text-muted small text-uppercase">Mô tả hệ thống</label>
                            @Html.TextAreaFor(m => m.SystemDescription, new { @class = "form-control bg-light border-0", rows = 3, placeholder = "Mô tả về hệ thống" })
                            @Html.ValidationMessageFor(m => m.SystemDescription, "", new { @class = "text-danger small" })
                        </div>
                        <div class="col-md-6">
                            <label for="SupportPhone" class="form-label fw-bold text-muted small text-uppercase">Số điện thoại hỗ trợ</label>
                            @Html.TextBoxFor(m => m.SupportPhone, new { @class = "form-control bg-light border-0", placeholder = "0123 456 789" })
                            @Html.ValidationMessageFor(m => m.SupportPhone, "", new { @class = "text-danger small" })
                        </div>
                        <div class="col-md-6">
                            <label for="SupportEmail" class="form-label fw-bold text-muted small text-uppercase">Email hỗ trợ</label>
                            @Html.TextBoxFor(m => m.SupportEmail, new { @class = "form-control bg-light border-0", type = "email", placeholder = "support@example.com" })
                            @Html.ValidationMessageFor(m => m.SupportEmail, "", new { @class = "text-danger small" })
                        </div>
                        <div class="col-12">
                            <label for="Address" class="form-label fw-bold text-muted small text-uppercase">Địa chỉ</label>
                            @Html.TextAreaFor(m => m.Address, new { @class = "form-control bg-light border-0", rows = 2, placeholder = "Địa chỉ công ty" })
                            @Html.ValidationMessageFor(m => m.Address, "", new { @class = "text-danger small" })
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Settings -->
            <div class="card border-0 shadow-sm rounded-4 mb-4">
                <div class="card-header bg-white py-3 border-0">
                    <h5 class="mb-0 fw-bold text-primary">
                        <i class="fas fa-users-cog me-2"></i>Cài đặt người dùng
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="ItemsPerPage" class="form-label fw-bold text-muted small text-uppercase">Số mục trên mỗi trang</label>
                            @Html.TextBoxFor(m => m.ItemsPerPage, new { @class = "form-control bg-light border-0", type = "number", min = "5", max = "100" })
                            @Html.ValidationMessageFor(m => m.ItemsPerPage, "", new { @class = "text-danger small" })
                        </div>
                        <div class="col-md-6">
                            <label for="SessionTimeoutMinutes" class="form-label fw-bold text-muted small text-uppercase">Thời gian lưu phiên (phút)</label>
                            @Html.TextBoxFor(m => m.SessionTimeoutMinutes, new { @class = "form-control bg-light border-0", type = "number", min = "15", max = "1440" })
                            @Html.ValidationMessageFor(m => m.SessionTimeoutMinutes, "", new { @class = "text-danger small" })
                        </div>
                        <div class="col-md-6">
                            <div class="form-check form-switch">
                                @Html.CheckBoxFor(m => m.AllowRegistration, new { @class = "form-check-input" })
                                <label class="form-check-label" for="AllowRegistration">
                                    Cho phép đăng ký tài khoản
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check form-switch">
                                @Html.CheckBoxFor(m => m.RequireEmailConfirmation, new { @class = "form-check-input" })
                                <label class="form-check-label" for="RequireEmailConfirmation">
                                    Yêu cầu xác thực email
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- System Settings -->
        <div class="col-lg-4">
            <div class="card border-0 shadow-sm rounded-4 mb-4">
                <div class="card-header bg-white py-3 border-0">
                    <h5 class="mb-0 fw-bold text-primary">
                        <i class="fas fa-globe me-2"></i>Cấu hình hệ thống
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="mb-3">
                        <label for="DefaultLanguage" class="form-label fw-bold text-muted small text-uppercase">Ngôn ngữ mặc định</label>
                        <select class="form-select bg-light border-0" id="DefaultLanguage" name="DefaultLanguage">
                            <option value="vi" selected="@(Model.DefaultLanguage == "vi")">Tiếng Việt</option>
                            <option value="en" selected="@(Model.DefaultLanguage == "en")">English</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="TimeZone" class="form-label fw-bold text-muted small text-uppercase">Múi giờ</label>
                        <select class="form-select bg-light border-0" id="TimeZone" name="TimeZone">
                            <option value="SE Asia Standard Time" selected="@(Model.TimeZone == "SE Asia Standard Time")">Giờ Đông Dương</option>
                            <option value="UTC" selected="@(Model.TimeZone == "UTC")">UTC</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <div class="form-check form-switch">
                            @Html.CheckBoxFor(m => m.SendNotificationEmails, new { @class = "form-check-input" })
                            <label class="form-check-label" for="SendNotificationEmails">
                                Gửi email thông báo
                            </label>
                        </div>
                    </div>

                    <div class="mb-3">
                        <div class="form-check form-switch">
                            @Html.CheckBoxFor(m => m.SendReminderEmails, new { @class = "form-check-input" })
                            <label class="form-check-label" for="SendReminderEmails">
                                Gửi email nhắc nhở
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Social Login Settings -->
            <div class="card border-0 shadow-sm rounded-4 mb-4">
                <div class="card-header bg-white py-3 border-0">
                    <h5 class="mb-0 fw-bold text-primary">
                        <i class="fas fa-share-alt me-2"></i>Đăng nhập mạng xã hội
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="mb-3">
                        <div class="form-check form-switch">
                            @Html.CheckBoxFor(m => m.EnableGoogleLogin, new { @class = "form-check-input" })
                            <label class="form-check-label" for="EnableGoogleLogin">
                                <i class="fab fa-google me-2 text-danger"></i>Google Login
                            </label>
                        </div>
                    </div>

                    <div class="mb-3">
                        <div class="form-check form-switch">
                            @Html.CheckBoxFor(m => m.EnableFacebookLogin, new { @class = "form-check-input" })
                            <label class="form-check-label" for="EnableFacebookLogin">
                                <i class="fab fa-facebook me-2 text-primary"></i>Facebook Login
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Save Button -->
            <div class="card border-0 shadow-sm rounded-4">
                <div class="card-body p-4 text-center">
                    <button type="submit" class="btn btn-primary btn-lg rounded-pill w-100">
                        <i class="fas fa-save me-2"></i>Lưu cài đặt
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
